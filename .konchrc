#!/usr/bin/env python
# vi: set ft=python :

import primesieve
import konch
import sys
import os
import io, math, re, string, time, unicodedata
import psutil

from pathlib import Path
from pprint import pprint as pp
from datetime import datetime
from time import sleep
from operator import itemgetter as iget, attrgetter as aget

import numpy as np
import pandas as pd

import requests

from bash import bash
from tqdm import tqdm

from loguru import logger
logger.__name__ = 'logger'

import libtmux

# Available options:
#   "context", "banner", "shell", "prompt", "output",
#   "context_format", "ipy_extensions", "ipy_autoreload",
#   "ipy_colors", "ipy_highlighting_style", "ptpy_vi_mode"
# See: https://konch.readthedocs.io/en/latest/#configuration

_cfg = konch.config({
    "context_format":
    'full',
    "context": [
        sys, os, Path, pp, np, pd, bash, logger, requests.get, requests.post,
        requests.put, requests.delete, io, math, re, string, time, unicodedata,
        psutil, datetime, sleep, iget, aget, tqdm, libtmux, primesieve,
    ],
    "ipy_extensions": [],
    "ipy_autoreload":
    True,
    "ipy_colors":
    "linux",
    "ipy_highlighting_style":
    "monokai",
    "ptpy_vi_mode":
    True
})

konch.named_config("sympy", {"context": []})  # TODO: Add Sympy context
# sympy.init_printing()

def setup():
    #TODO: call %rehashx magic
    pass

def teardown():
    pass
